<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de CurrÃ­culo IA</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- ðŸ§  Chatbot -->
<div class="chat-container">
    <div class="chat-header">
        <img src="assets/avatar.gif" alt="Bot">
        <h2>GERADOR DE CV IA</h2>
    </div>
    <div id="chat" class="chat-window"></div>
    <div class="input-area">
        <input type="text" id="userInput" placeholder="Digite aqui...">
        <button onclick="handleUserInput()">Enviar</button>
    </div>
</div>

<!-- ðŸ§  CurrÃ­culo Preview -->
<div class="preview-container" id="preview-container" style="display: none;">
    <div class="curriculo">
        <!-- Coluna Esquerda -->
        <div class="sidebar">
            <img src="assets/default-avatar.jpg" class="profile-img">
            <h2 id="nome-placeholder">Nome</h2>
            <p id="cargo-placeholder">Cargo</p>
            <p id="email-placeholder">Email</p>
            <p id="telefone-placeholder">Telefone</p>
            <h3>Habilidades</h3>
            <p><b>Hard Skills:</b> <span id="hard-placeholder"></span></p>
            <p><b>Soft Skills:</b> <span id="soft-placeholder"></span></p>
            <p><b>Idiomas:</b> <span id="idiomas-placeholder"></span></p>
        </div>

        <!-- Coluna Direita -->
        <div class="content">
            <h1>CurrÃ­culo <span id="nome-placeholder2"></span></h1>
            <h2>ExperiÃªncia</h2>
            <ul id="exp-placeholder"></ul>

            <h2>FormaÃ§Ã£o</h2>
            <ul id="form-placeholder"></ul>
        </div>
    </div>

    <button onclick="baixarPDF()">ðŸ“„ Baixar PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="js/script.js"></script>
</body>
</html>

<style>
.chat-header img {
    width: 80px;
    height: 80px;
    object-fit: cover;
}
</style>

<script>
function abrirPreview(nome, cargo, email, telefone, experiencias, formacoes, hardSkills, softSkills, idiomas, foto) {
    const dados = {
        nome: nome,
        cargo: cargo,
        email: email,
        telefone: telefone,
        experiencias: experiencias,
        formacoes: formacoes,
        hardSkills: hardSkills,
        softSkills: softSkills,
        idiomas: idiomas,
        foto: foto
    };

    localStorage.setItem('dadosCurriculo', JSON.stringify(dados));
    window.open('preview.html', '_blank');
}
</script>